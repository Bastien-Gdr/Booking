{% extends 'admin/base.html.twig' %}

{% block title %}Tableau de bord
{% endblock %}

{% block body %}

	<main class="container-fluid mt-5">
		<div class="row">
			<div class="col">
				<div class="card bg-dark text-white text-center p-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4">
								<i class="fas fa-user fa-3x"></i>
							</div>
							<div class="col-8">
								<h4 class="card-title">
									{{stats.users}}
									utilisateurs
								</h4>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card bg-info text-white text-center p-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4">
								<i class="fas fa-user fa-3x"></i>
							</div>
							<div class="col-8">
								<h4 class="card-title">
									{{stats.ads}}
									annonces
								</h4>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card bg-light text-white text-center p-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4">
								<i class="fas fa-user fa-3x"></i>
							</div>
							<div class="col-8">
								<h4 class="card-title">
									{{stats.bookings}}
									r√©servations
								</h4>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col">
				<div class="card bg-primary text-white text-center p-3">
					<div class="card-body">
						<div class="row">
							<div class="col-4">
								<i class="fas fa-user fa-3x"></i>
							</div>
							<div class="col-8">
								<h4 class="card-title">
									{{stats.comments}}
									avis
								</h4>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row mt-5">
				<div class="col">
					<div class="alert-success my-3">
						<h4 class="alert-heading text-black">
							<i class="fas fa-arrow-up"></i>
							Annonces les + populaires
						</h4>
						<table class="table table-hover">
							<thead>
								<th>Annonce</th>
								<th>Loueur</th>
								<th>Moyenne</th>
							</thead>
							<tbody>

								{% for ad in bestAds %}
									<tr>
										<td>{{ad.title}}</td>
										<td>
											<img src="{{ad.avatar}}" alt="" class="avatar avatar-small">
											{{ad.firstname}}
											{{ad.lastname}}
										</td>
										<td>
											<span class="badge bg-light">
												{{ad.note|number_format(1,',','')}}
											</span>
										</td>
									</tr>

								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
				<div class="col">
					<div class="alert-warning my-3">
						<h4 class="alert-heading text-black">
							<i class="fas fa-arrow-down"></i>
							Annonces les - populaires
						</h4>
						<table class="table table-hover">
							<thead>
								<th>Annonce</th>
								<th>Loueur</th>
								<th>Moyenne</th>
							</thead>
							<tbody>

								{% for ad in worstAds %}
									<tr>
										<td>{{ad.title}}</td>
										<td>
											<img src="{{ad.avatar}}" alt="" class="avatar avatar-small">
											{{ad.firstname}}
											{{ad.lastname}}
										</td>
										<td>
											<span class="badge bg-light">
												{{ad.note|number_format(1,',','')}}
											</span>
										</td>
									</tr>

								{% endfor %}
							</tbody>
						</table>
					</div>
				</div>
			</div>

		</div>

	</main>

{% endblock %}
